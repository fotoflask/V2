<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>settings page</title>
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/popup.css">
    <link rel="stylesheet" href="/css/settings.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Livvic:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,900&display=swap" rel="stylesheet">

    
     <!-- //defer is compulsary -->
</head>
<body>

  <%- include("layout/loadinganimation2") %> 
  <%- include("layout/navbar",{user_logged}) %>

    <div class="scontainer">
        <aside>
           <div class="snavbar">

               <div class="sprofilepic ">
                 <img id="profile-pic" src="images/ProfilePhotos/<%= userdetails.dprofilepic%>"  alt="">
               </div>
               <label class="mylabel "for="inputt">Change Profile Pic</label>
             <input form="editprofile" value="<%= userdetails.dprofilepic%>" name="fprofilepic"class="myinput" type="file" id="inputt" accept="image/jpeg, image/png, image/jpg">

                  <nav>
                      <ul>
                          <li name="home"> Edit Profile </li>
                          <li name="about"> Change Password </li>
                          <li name="resume">Change CoverPhoto </li>
                          <li name="contact"> Privacy and security </li>
                      </ul>  
                  </nav>

            </div>

            
           
        </aside>

        <main>

        

         <div class="card active home" data-home>
            <div class="title">
              Edit Profile
            </div>
            <div class="content">
           
             

            <br>
            <br>
            <br>
              <form id="editprofile" action="/settings/editprofile" method="post">
                <label for="namee">Name :</label>
                <input type="text" id="q1"  class="ip2" name="fprofilename" value="<%= userdetails.dprofilename %>"><br>
    
    
                <label for="username">Username :</label>
                <input type="text" id="q2"class="ip2" name="fusername" value="<%=userdetails.dusername %>"><br>
    
    
                <!-- <label for="Bio">Bio :</label>
                <input type="text" id="q3" class="ip2" name="fname"><br> -->
    
    
                <label for="Email address">Emai address :</label>
                <input type="text" id="q4" class="ip2" name="femail" value="<%= userdetails.demail %>"><br>
    
    
                <label for="Phone Number">Phone Number:</label>
                <input type="text" id="q5" class="ip2" name="fmobile" value="<%= userdetails.dmobilenumber %>"><br>
    
                
                <input  class="submitt" type="submit" value="Submit">
    
                <button onclick="history.back()">Close Settings</button>
              </form>
           

            




            </div>
         </div>   


         <div class="card about" data-about>
            <div class="title">
                Change Password
            </div>
            <div class="content">
          

            <br>
            <br>
            <br>
              <form id="password-form" method="post" action="/settings/changepassword">

              
            <label for="oldpassword">Old password :</label>
            <input type="password" id="q7"class="ip2" name="fpassword"><br>


            <label for="New password">New password:</label>
            <input type="password" id="q8"class="ip2" name="fnewpassword"><br>


            <label for="Confirm new password">Confirm<br> new password :</label>
            <input type="password" id="q9"class="ip2" name="fconfirmpassword"><br>


            
            <input class="submitt" type="submit" value="Submit">

            <button onclick="history.back()">Close Settings</button>
          </form>
            </div>
         </div>   


         <div class="card resume" data-resume>
          <div class="title">
          CHANGE COVER PHOTO
          </div>
          <div class="content">
          
         <br>

         <div class="coverpic " style="display: flex; justify-content: center;padding: 5px;">
          <img id="cover-pic"  width="600px" height="400px" src="/images/CoverPhotos/<%= userdetails.dcoverphoto %>" onerror="this.onerror=null; this.src='/images/OtherAssets/camera-solid.svg'; style='object-fit:scale-down;'" alt="">
        </div>

        <form id="editcoverphoto" method="post" action="/settings/changecoverphoto">
            <label class="mylabel "for="inputcover">Change Cover Photo</label>
            <input form="editcoverphoto" value="<%= userdetails.dcoverphoto%>" name="fcoverphoto"class="myinput" type="file" id="inputcover" accept="image/jpeg, image/png, image/jpg">
            <button onclick="self.close()">Close Settings</button>
            <input class="submitt" type="submit" value="Submit">
        </form>

          

          
          </div>
       </div>  


         <div class="card contact" data-contact>
            <div class="title">
              Privacy and security
            </div>
            <div class="content">
          


                        
          <br>
          <br>

          <span>Hide Likes   :</span><br/>
        
           
            <input type="radio" id="on"name="feedback emails" value="on">
            <label for="on">on</label>

            <br/>
             
          
            <input type="radio" id="off"name="feedback emails" value="off">
            <label for="off">off</label>
            <br/>
            
            <span>Allow @mentions from   :</span><br/>
        
           <br/>
            <input type="radio" id="on"name="Allow @mentions from " value="on">
            <label for="on">Everyone</label>

            <br/>
             
          
            <input type="radio" id="off"name="Allow @mentions from " value="off">
            <label for="off">Friends only</label>

            
            <br/>
            <input type="radio" id="on"name="Allow @mentions from " value="on1">
            <label for="on1">No one</label>

            <br/>

            <span>Private Account  :</span><br/>
        
           
            <input type="radio"
            class="radioo" id="on"name="Product Emails" value="on">
            <label for="on">on</label>
             
          
            <input type="radio" class="radioo" id="off"name="Product Emails" value="off">
            <label for="off">off</label>

            
            <br>

            <input  class="submitt" type="submit" value="Submit">
            <button onclick="history.back()">Close Settings</button>

            <!-- <label class="switch">
                <input type="checkbox" checked>
                <span class="slider round"></span>
              </label> -->

            </div>
         </div>   

         

        </main>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="https://kit.fontawesome.com/5e315e4af1.js" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" crossorigin="anonymous"></script>
    <script>

let profilePic = document.getElementById("profile-pic");
let coverpic = document.getElementById("cover-pic")
let inputFile = document.getElementById("inputt");
let inputFile1 = document.getElementById("inputcover");
let passwordform = document.getElementById("password-form");

inputFile.onchange = function(){
  profilePic.src=URL.createObjectURL(inputFile.files[0]);
}

inputFile1.onchange = function(){
  coverpic.src=URL.createObjectURL(inputFile1.files[0]);
}

passwordform.onsubmit = function(e){
  e.preventDefault();
  console.log("confirmpassword")
  let oldpassword = document.getElementById("q7").value;
  let newpassword = document.getElementById("q8").value;
  let confirmpassword = document.getElementById("q9").value;
  
  if(newpassword != confirmpassword){
      alert("new password and confirm password are not same");
  }
  else{
    passwordform.submit();
  }
}


    </script>
    <script src="/js/settings.js" defer></script> 
  
</body>
</html>